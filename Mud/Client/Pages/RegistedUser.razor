@page "/listuser"



<MudGrid>
    <MudItem xs="12">
        <MudGrid Justify="Justify.FlexStart">
            @for (int i = 0; i < info.Count; i++)
            {
                <!--Porque con i no se sale de rango?-->
                var localindex = i;
                <MudItem xs="12">
                    <MudPaper>
                        <EditForm Model="@userModel" OnValidSubmit="@(()=> OnValidSubmit(info[localindex]))">
                            <MudCard>
                                <MudCardContent>
                                    <MudTextField T="string" @bind-Value="@info[localindex].Name" ReadOnly="@(status[localindex])" Label="Name" />
                                    <MudTextField T="string" @bind-Value="@info[localindex].Email" ReadOnly="@(status[localindex])" Label="Email" />
                                    <MudTextField T="string" @bind-Value="@info[localindex].Username" ReadOnly="@(status[localindex])" Label="Username" />
                                </MudCardContent>
                                <MudCardActions>
                                    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(()=>ChangeInfoUser(localindex))" Class="ml-auto">Editar</MudButton>
                                    <MudButton Variant="Variant.Filled" Color="Color.Primary" Disabled="@(status[localindex])" ButtonType="ButtonType.Submit" Class="ml-auto">guardar cambios</MudButton>
                                </MudCardActions>
                            </MudCard>
                        </EditForm>
                    </MudPaper>
                </MudItem>
            }
        </MudGrid>
    </MudItem>
</MudGrid>
